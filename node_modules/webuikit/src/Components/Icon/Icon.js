import React from "react";
import styled from "styled-components";
import { black } from "ZColors";
import getSVG from "./svgs";
import { noop as _noop } from "lodash-es";
import { svgStyle, iconStyle } from "sauce/helpers/commonHelper";
import PropTypes from "prop-types";
import { camelize } from "../../helpers/commonHelper";

const SVG = styled.svg`
  ${svgStyle}
`;

const Icon = props => {
  const {
    name,
    color = black,
    size = 20,
    showPointer = false,
    onClick = _noop
  } = props;
  return (
    <Icon.Element showPointer={showPointer} onClick={onClick}>
      <SVG
        xmlns="http://www.w3.org/2000/svg"
        fill={color}
        width={size}
        height={size}
        viewBox="0 0 20 20" // don't change this
      >
        {getSVG(camelize(name))}
      </SVG>
    </Icon.Element>
  );
};

Icon.Element = styled.i`
  ${iconStyle}
`;

Icon.propTypes = {
  /** The color prop helps user to set a custom color of the icon. */
  color: PropTypes.string,
  /** Defines the icon to be shown. One icon cannot be shown unless its name prop is set */
  name: PropTypes.string.isRequired,
  /** Size prop overrides the default size of the icon. It helps user to set a custom size of the icon. */
  size: PropTypes.number,
  /** Callback function to be triggered when user clicks on an icon. */
  onClick: PropTypes.func,
  /**  Shows cursor as pointer on hover if set to true. By default it does not show pointer; */
  showPointer: PropTypes.bool
};

export default Icon;
